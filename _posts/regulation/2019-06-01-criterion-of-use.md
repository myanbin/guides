---
layout: page
title:  技术局代码管理平台使用规范（草案）
date:   2019-06-01 07:50:00
author: 
  - 马艳彬 <mayanbin@xinhua.org>
  - 李骞 <liqian6@xinhua.org>
categories: regulation
index: 1
---


为规范新华开发平台使用，提高开发效率，保证开发质量，特制定本规范。

## 一、总则

1、项目组需按照《新华开发平台管理细则》中的相关规定进行平台帐号的申请。

2、平台提供修改密码和找回密码的功能，开发人员可以自行修改或找回密码。开发人员应当确保自己的密码安全。

3、禁止一切滥用行为。

## 二、代码管理应用使用规范

### （一）基本

1、本平台使用 GitLab 作为代码管理应用。

2、项目组应当确保项目内开发人员均能正确的使用 Git 和 GitLab。对不熟悉的开发人员，项目组应当进行适当的培训。

3、初次登录 GitLab 后，开发人员需按照规范设置操作密码（用于推送代码）和本地 Git 的用户信息配置。

4、鼓励使用 issue 功能对项目缺陷进行跟踪。

### （二）群组与权限

1、平台管理员负责在 GitLab 上为项目创建群组，并将该群组的 Owner 权限赋予该项目的相关负责人。

2、项目组根据项目实际情况，可以在该项目的 GitLab 群组中创建多个项目代码仓库。

3、项目组应当遵循权限管理最小化原则。项目组应根据实际情况将开发人员加入到具体的项目仓库或项目 GitLab 群组中。

4、项目仓库的权限建议设置为 Private，即只允许项目内成员进行访问。禁止将项目仓库权限设置为 Public。

5、项目组对该项目的每一个项目仓库都应设置开发负责人及备份负责人。

6、对项目仓库中的开发负责人及备份负责人，应当将其权限设置为 Maintainer。对项目仓库中的一般开发人员，应当将其权限设置为 Developer。

7、原则上不允许创建子群组，如需创建须联系平台管理员。

8、不得随意修改群组路径（Group Path），如需修改须联系平台管理员。

### （三）项目仓库

1、项目仓库应当根据项目类型，在根目录下创建 .gitignore 文件。原则上禁止将二进制文件、项目依赖文件、编译后的项目文件直接存放于 GitLab 中。

2、禁止将服务器、数据库地址，用户名密码，私钥等敏感信息提交到 GitLab 上。

3、鼓励采用科学的分支模型进行项目开发。

4、项目仓库的默认分支为 master，作为项目的正式版本代码。禁止删除仓库中的 master 分支。

5、应当通过 Merge Request 的方式向 master 分支合并代码。禁止直接向 master 分支提交代码。禁止创建大量差异（大于 20 个 commit）的分支间的 Merge Request。

## 三、附则

1、本规范由技术研发中心负责解释。

2、本规范自发布之日起执行。
